name: EslintStatus


on: [push]
  
jobs:
 linting_repository:
  
  runs-on: ubuntu-latest

  steps:
  - name: git clone my repository
    uses: actions/checkout@v1
    
  - name: install packages
    run: make install
    
  - name: linting(ESLINT)
    run: make lint

  - name: testing(JEST)
    run: make test
    
  - name: Test & publish code coverage
        # Publish code coverage on Code Climate
        # https://github.com/paambaati/codeclimate-action
    uses: paambaati/codeclimate-action@v2.7.4
        # Add Code Climate secret key
    env:
        CC_TEST_REPORTER_ID: ${{ secrets.TESTREPORTER_ID }}
    with:
        coverageCommand: make test-coverage
        debug: true
